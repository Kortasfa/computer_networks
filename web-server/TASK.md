# Техническое задание: Разработка веб-сервера (Лабораторная работа №5)

## 1. Цель работы
Разработать простой, но функциональный веб-сервер на языках C или C++, способный обрабатывать HTTP GET-запросы, отдавать статические файлы и возвращать сообщения об ошибках.

## 2. Общие технические требования
*   **Язык программирования:** C++.
*   **Сетевой протокол:** TCP/IP.
*   **Используемые системные вызовы:** `socket()`, `bind()`, `listen()`, `accept()`, `read()`, `write()`, `close()`.
*   **Порт:** Любой порт > 1023 (рекомендуется 8080, 8888 или > 5000).
*   **Ограничение:** Запрещено использовать сервер в продакшене (публичной сети) до полной отладки и понимания рисков безопасности.

---

## 3. Функциональные требования (Базовый уровень)

### 3.1. Инициализация сервера
1.  Создание TCP-сокета.
2.  Привязка сокета к выбранному порту (`bind`).
3.  Перевод сокета в режим прослушивания (`listen`).

### 3.2. Обработка соединений
1.  Сервер должен работать в бесконечном цикле, ожидая входящие подключения.
2.  Принятие входящего соединения от клиента (`accept`).
3.  Чтение данных HTTP-запроса из сокета в буфер.
4.  Вывод информации о запросе в консоль (логирование).

### 3.3. Обработка HTTP-запросов
1.  Парсинг полученного запроса (анализ строки запроса).
2.  Поддержка метода **GET**.
3.  Извлечение имени запрашиваемого файла из URL (например, `/index.html`).

### 3.4. Формирование HTTP-ответов
Сервер должен формировать корректные заголовки и тело ответа в соответствии со стандартом HTTP/1.1.

*   **Сценарий «Успех» (Файл найден):**
    *   Статус: `200 OK`.
    *   Заголовок: `Content-Type: text/html`.
    *   Тело: Содержимое запрашиваемого файла.
    *   Формат заголовка: `HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n`

*   **Сценарий «Ошибка» (Файл не найден):**
    *   Если файл отсутствует на диске.
    *   Статус: `404 Not Found`.
    *   Заголовок: `Content-Type: text/plain`.
    *   Тело: Текст "File Not Found".
    *   Формат заголовка: `HTTP/1.1 404 Not Found\r\nContent-Type: text/plain\r\n\r\n`

### 3.5. Завершение обработки
*   После отправки ответа соединение с клиентом (сокет) должно быть корректно закрыто (`close`).

## 5. Требования к реализации и качеству кода
*   **Форматирование:** Отступы должны быть выровнены (код должен быть читаемым).
*   **Компиляция:** Код должен компилироваться без ошибок.
*   **Ресурсы:** Все открытые сокеты и файловые дескрипторы должны закрываться после использования. (Используй принципы RAII)

---

## 6. Состав сдаваемой работы (Deliverables)

Студент должен предоставить следующие материалы:

1.  **Исходный код:** Файл `webserver.c` или `webserver.cpp`.
2.  **Документация (Design Doc):**
    *   Объем: 1 страница.
    *   Краткое описание архитектуры приложения.
    *   Инструкция по сборке (команды компилятора/Makefile) и запуску.
3.  **Демонстрация работы (Скриншоты):**
    *   Скриншот браузера с успешной загрузкой страницы (код 200).
    *   Скриншот браузера с ошибкой (код 404).
    *   Скриншот консоли с выводом логов сервера.